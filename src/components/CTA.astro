---
interface Props {
  title: string;
  description?: string;
  primaryButton?: {
    text: string;
    href: string;
  };
  secondaryButton?: {
    text: string;
    href: string;
  };
  background?: 'primary' | 'gray' | 'white' | 'gradient';
}

const {
  title,
  description,
  primaryButton,
  secondaryButton,
  background = 'primary',
} = Astro.props;

const backgroundClasses = {
  primary: 'bg-primary-600',
  gray: 'bg-secondary-900',
  white: 'bg-gray-50',
  gradient: 'bg-gradient-to-br from-secondary-900 via-secondary-800 to-secondary-900',
};

const textClasses = {
  primary: { title: 'text-white', description: 'text-primary-100' },
  gray: { title: 'text-white', description: 'text-gray-300' },
  white: { title: 'text-gray-900', description: 'text-gray-600' },
  gradient: { title: 'text-white', description: 'text-gray-300' },
};

const buttonClasses = {
  primary: {
    primary: 'bg-white text-primary-600 hover:bg-primary-50 shadow-lg',
    secondary: 'border-2 border-white/30 text-white hover:bg-white/10',
  },
  gray: {
    primary: 'bg-primary-600 text-white hover:bg-primary-700 shadow-lg shadow-primary-600/25',
    secondary: 'border-2 border-white/30 text-white hover:bg-white/10',
  },
  white: {
    primary: 'bg-primary-600 text-white hover:bg-primary-700 shadow-lg shadow-primary-600/25',
    secondary: 'border-2 border-gray-300 text-gray-700 hover:bg-gray-100',
  },
  gradient: {
    primary: 'bg-primary-600 text-white hover:bg-primary-700 shadow-lg shadow-primary-600/25',
    secondary: 'border-2 border-white/30 text-white hover:bg-white/10',
  },
};

const styles = {
  bg: backgroundClasses[background],
  text: textClasses[background],
  buttons: buttonClasses[background],
};
---

<section class={`relative py-20 sm:py-28 ${styles.bg} overflow-hidden`}>
  <!-- Decorative elements -->
  {(background === 'gradient' || background === 'gray') && (
    <>
      <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4wMyI+PHBhdGggZD0iTTM2IDM0djZoLTZ2LTZoNnptLTYgMHYtNmg2djZoLTZ6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-50"></div>
      <div class="absolute top-0 left-1/4 w-96 h-96 bg-primary-500/10 rounded-full blur-3xl"></div>
      <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-primary-600/10 rounded-full blur-3xl"></div>
    </>
  )}

  <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="mx-auto max-w-3xl text-center">
      <h2 class={`text-3xl font-bold tracking-tight sm:text-4xl lg:text-5xl ${styles.text.title}`}>
        {title}
      </h2>
      {description && (
        <p class={`mt-6 text-lg sm:text-xl ${styles.text.description}`}>
          {description}
        </p>
      )}
      {(primaryButton || secondaryButton) && (
        <div class="mt-10 flex flex-col gap-4 sm:flex-row sm:justify-center">
          {primaryButton && (
            <a
              href={primaryButton.href}
              class={`inline-flex items-center justify-center rounded-lg px-8 py-4 text-base font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 ${styles.buttons.primary}`}
            >
              {primaryButton.text}
            </a>
          )}
          {secondaryButton && (
            <a
              href={secondaryButton.href}
              class={`inline-flex items-center justify-center rounded-lg px-8 py-4 text-base font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 ${styles.buttons.secondary}`}
            >
              {secondaryButton.text}
            </a>
          )}
        </div>
      )}
    </div>
  </div>
</section>
